[TOC]

---

# 面试题



## 1. 普通面试题



## 2. 开放口述题



### 2.1 写出你所熟知的`ES6`新语法，说出它们和`ES5`的区别！

+ let、const

  *let和var的区别

  ​	1> let没有变量提升

  ​	2> let不允许重复声明

  ​	3>  在全局作用域下用let声明的变量，跟window没有关系（相当于 use strict）

  ​	4> typeof 未被声明的变量 （不是undefined，会报错）暂时性死区

  ​	5>  let 会形成块级作用域（类似于私有作用域，大部分大括号都会形成块级作用域）

  ​	...

+ 解构赋值

+ 箭头函数

  *和普通函数的区别

  ​	1> 没有arguments，但是可以使用 ...arg 获取（结果是数组）

  ​	2> 没有自己的this，箭头函数中的this是上下文中的this

+ `...`运算符的三种含义

  *展开、剩余、扩展

+ 模板字符串

+ Promise

+ Map、Set、Symbol

+ interator（for...of）

+ ...



### 2.2 请说出你对“重排”和“重绘”读写分离的理解？

* 1.什么是`重排`和`重绘`

  ​	 浏览器在渲染一个页面的时候，首先生成Dom Tree,然后加载css，生成Render Tree,把渲染树交给GPU去渲染

  ​	此时

  我们修改了页面的样式（不改变页面结构的情况下），浏览器会重绘页面

  改变页面结构的情况下，浏览器会重新计算Dom Tree  和 Render Tree

* 2.性能消耗

  这两种都是很消耗性能的

* 3.平时都怎么注意这些的

   	使用Fragment

  ​	读写分离：把统一的修改样式的操作放到一起执行，新版本的浏览器有一个自己的监测机制，如果发现下边的紧挨的操作也是修改元素的样式，会把所有修改样式的操作先存储起来，直到遇到非修改样式的操作，会把之前存储 的统一执行，引发一次回流和重绘

### 2.3 什么是面向对象？

面向对象是一种变成思想（Object Oriented Programming，*OOP*，面向对象程序设计）

JS 本身就是面向对象编程的，学习JS，其实就是学习js中的类和实例

常用的类：Array、Object、String、Number、Boolean、Function

* 继承 -- js中通过原型链的方式

* 多态 -- 函数名相同，参数不同） -js中没有多态，js中函数名相同，后边的函数会替换掉前边的函数，最终执行的是后边的函数

* 抽象 -- 抽象类（数据抽象，过程抽象）Object类，够抽象了吧

* 封装--函数的封装

平时的使用：

* 没有刻意的使用，但多多少少用到了
* 从普通方法（函数）的封装，到插件的封装，此时会用到构造函数和原型链
* jQuery的源码中，也是通过面向对象编程的

### 2.4 作用域链和原型链的理解？

【作用域】

​	全局作用域`window`

​	函数作用域

​	对象作用域

> 一段程序代码中所用到的名字并不总是有效/可用的，而限定这个名字的可用性的代码范围就是这个名字的作用域。

​	

【作用域链	函数执行，会在当前环境下开辟一个堆内存用于存储这个函数私有函数作用域，此时这个函数中的形参和声明的变量都是这个函数私有的变量，函数外界是不能够访问到函数内部的这些变量的，如果函数中使用到了自己没有的变量，此时函数会通过`__proto__`继续向上查找这个函数中所用到的自己没有的变量，如果没找到就继续向上级函数作用域中继续查找，直到就近找到为止，如果一直到`window`都没有找到，那就是undefined（这是在非严格模式下），这种机制就`作用域链机制`

【原型链】

它是一种查找机制，实例首先会在自己的私有属性中查找，如果私有属性中没有，就通过`__proto__`向所属的原型上查找，如果还没看有，继续通过`__proto__`向上查找，直达找到为止，如果一直找不到，最终会找到`Object.prototype`这个基类的原型上为止。

例如 obj.hasOwnProperty(),这里方法调用的就是Object这个基类的原型上的方法

### 2.5 jQuery的原理，怎么扩展插件



+ JQ是一个JS类库，里面提供了很多的常用方法，有助于我们快速开发，而且这些方法是兼容所有浏览器的（V2 / V3 不兼容低版本浏览器）
+ 我之前在学习原生JS的时候，或多或少的看了一部分jQuery源码，刚毕业的时候jQuery用的比较多，但是最近两年一直都在用框架开发，jQuery中常用的方法忘差不多了。之前看源码的时候，发现JQ就是一个类，而`$()`就是创建这个类的一个实例，这个实例是基于内置方法makeArray创造的类数组
+ jQuery提供的方法有两部分，一部分是放到原型上的，供实例调取使用，一部分是放到对象上的，直接`$.xxx`调取使用，想要后期自己扩展方法（包括基于JQ写插件），都可以基于extend这个方法向JQ中扩展
+ jQuery中提供了动画、事件、AJAX等常用的方法，我学习JQ源码的时候比较注重里面的一些封装和编程的思想，例如：发布订阅这种设计模式我就是依据jQuery的$.Callbacks学习研究的，所以学习JQ给我带来了很多的好处...

### 2.6 闭包?

- 闭包是JS中一个非常重要的机制，我们很多编程思想、业务逻辑、设计模式都是基于闭包完成的，先说一下我对闭包的理解：闭包就是函数执行产生一个私有的作用域（不销毁），在这个作用域中的私有变量和外界互不干扰，而且作用域（栈）不销毁，这些私有变量存储的值也都保存下来了，所有整体来说闭包就是为了保护和保存变量的

- 实际项目开发中，很多地方使用到了闭包，例如

  1. 循环事件绑定，由于事件绑定是异步编程的，我们此时在循环的时候把索引存储起来（可以基于自定义属性存储，也可以基于闭包存储），后期需要使用的时候，向上级作用域查找使用即可

  2. 平时做业务逻辑的时候，我一般都是基于单例模式来管理代码的，这种单例的构建就应用到了闭包

  3. 柯理化函数

     ```javascript
     Function.prototype.bind = function bind(context, ...arg) {
          return () => {
              fn.call(context, ...arg);
          }
     };
     // document.onclick=fn.bind(obj, 10, 20);
     ```

     

## 3.综合面试题

### 3.1 实现 一个$attr(domId,name,value)遍历id是domId的，内部属性为name且值为value的元素？

```javascript
 let $attr = (domID, name, value) => {
    //1.先获取当前页面中所有的标签
    let tagList = document.getElementsByTagName('*');

    //2.在获取的所有标签中按照ID/NAME/VALUE进行筛选（数组内置方法：filter）
    tagList = [].slice.call(tagList);//=>把类数组转换为数组
    //=> tagList=[...tagList] 基于ES6中的展开运算符完成，让TAG-LIST等于一个数组，数组中的每一项是把之前的类数组展开后得到的
    tagList = tagList.filter(item => {
        //=>item.name:只有表单元素这样才可以获取到值,普通元素需要基于getAttribute获取值
        // return item.id === domID && item.getAttribute('name') === name && (item.innerHTML === value || item.value === value);//=>传统标签获取里面的内容不是基于VALUE属性，而是基于INNER-HTML/INNER-TEXT属性完成的

        return item.id === domID && item.getAttribute(name) === value;
    });
    return tagList;
};
```

